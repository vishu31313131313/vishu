/*! VanillaTilt.js 1.7.2 | MIT License | https://micku7zu.github.io/vanilla-tilt.js/ */
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():("function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.VanillaTilt=i():t.VanillaTilt=i())}(this,function(){return function(t){var i={};function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=i,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(i,t){if(1&t&&(i=s(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var n in i)s.d(e,n,function(t){return i[t]}.bind(null,n));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=0)}([function(t,i,s){"use strict";if("undefined"!=typeof window){var e={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,scale:1,speed:400,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"mouse-event-element":null,reset:!0,easing:"cubic-bezier(.03,.98,.52,.99)","prevent-touch":!1};class n{constructor(t,i={}){if(!(t instanceof Node))throw"Can't initialize VanillaTilt because " + t + " is not a Node.";this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=t,this.settings=this.extendSettings(i),this.reverse=this.settings.reverse?-1:1,this.glare=n.isSettingTrue(this.settings.glare),this.glarePrerender=n.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=n.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=n.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples||10,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),this.updateInitialPosition()}static isSettingTrue(t){return"string"==typeof t?"true"===t:!!t}getElementListener(){if(this.settings["mouse-event-element"])return document.querySelector(this.settings["mouse-event-element"]);if(this.fullPageListening)return window;return this.element}prepareGlare(){if(!this.glarePrerender){const t=document.createElement("div");t.classList.add("js-tilt-glare");const i=document.createElement("div");i.classList.add("js-tilt-glare-inner"),t.appendChild(i),this.element.appendChild(t)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background":"rgba(255,255,255,0.7)",width:`${2*this.element.offsetWidth}px`,height:`${2*this.element.offsetWidth}px",transform:"rotate(180deg) translate(-50%,-50%)","transform-origin":"0% 0%"}))}updateInitialPosition(){if(0!==this.settings.startX||0!==this.settings.startY)this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.left)/this.width*window.innerWidth,clientY:(this.settings.startY+this.top)/this.height*window.innerHeight}:this.event={clientX:this.left+this.settings.startX/100*this.width,clientY:this.top+this.settings.startY/100*this.height},this.update()}addEventListeners(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),this.glare&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}removeEventListeners(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.glare&&window.removeEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind)}destroy(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.glare&&this.glareElementWrapper&&(this.glareElementWrapper.parentNode.removeChild(this.glareElementWrapper))}onDeviceOrientation(t){if(null===t.gamma||null===t.beta)return;this.updateElementPosition();let i=t.gamma/(this.settings.gyroscopeMaxAngleX/2),e=t.beta/(this.settings.gyroscopeMaxAngleY/2),n=this.settings.gyroscopeSamples;null===this.lastGamma&&(this.lastGamma=i),null===this.lastBeta&&(this.lastBeta=e),this.lastGamma=(this.lastGamma*(n-1)+i)/n,this.lastBeta=(this.lastBeta*(n-1)+e)/n;const s=this.lastGamma*this.settings.max,o=this.lastBeta*this.settings.max;this.updateElementStyle(s,o)}onMouseEnter(){this.updateElementPosition(),this.setTransition()}onMouseMove(t){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=t,this.updateCall=requestAnimationFrame(this.updateBind)}onMouseLeave(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}reset(){this.event={pageX:this.left+this.width/2,pageY:this.top+this.height/2},this.element.style.transform=`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1,1,1)`,this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%,-50%)",this.glareElement.style.opacity="0")}getValues(){let t,i;return this.fullPageListening?(t=this.event.clientX/window.innerWidth,i=this.event.clientY/window.innerHeight):(t=(this.event.clientX-this.left)/this.width,i=(this.event.clientY-this.top)/this.height),t=Math.min(Math.max(t,0),1),i=Math.min(Math.max(i,0),1),{tiltX:(this.reverse*(this.settings.max/2-t*this.settings.max)).toFixed(2),tiltY:(this.reverse*(i*this.settings.max-this.settings.max/2)).toFixed(2),percentageX:100*t,percentageY:100*i,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}}updateElementPosition(){let t=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=t.left,this.top=t.top}update(){this.updateElementPosition();let t=this.getValues();this.element.style.transform=`perspective(${this.settings.perspective}px) rotateX(${"x"===this.settings.axis?0:t.tiltY}deg) rotateY(${"y"===this.settings.axis?0:t.tiltX}deg) scale3d(${this.settings.scale},${this.settings.scale},${this.settings.scale})`,this.glare&&(this.glareElement.style.transform=`rotate(${t.angle}deg) translate(-50%,-50%)`,this.glareElement.style.opacity=`${t.percentageY*this.settings["max-glare"]/100}`),this.element.dispatchEvent(new CustomEvent("tiltChange",{"detail":t})),this.updateCall=null}setTransition(){clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition=`opacity ${this.settings.speed}ms ${this.settings.easing}`),this.transitionTimeout=setTimeout(()=>{this.element.style.transition="",this.glare&&(this.glareElement.style.transition="")},this.settings.speed)}extendSettings(t){let i={};for(var s in e)if(s in t)i[s]=t[s];else if(this.element.hasAttribute("data-tilt-"+s)){let t=this.element.getAttribute("data-tilt-"+s);i[s]="false"===t?0:"true"===t?1:t}else i[s]=e[s];return i}static init(t,i){t instanceof Node&&(t=[t]),t instanceof NodeList&&(t=[].slice.call(t)),t instanceof Array&&t.forEach(t=>{"vanillaTilt"in t||(t.vanillaTilt=new n(t,i))})}}return"undefined"!=typeof document&&(window.VanillaTilt=n,n.init(document.querySelectorAll("[data-tilt]"))),n}])});
